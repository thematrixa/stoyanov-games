<div class="container p-4">
    <form (ngSubmit)="onSubmit()">
        <div class="row">
            <div class="col-6 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Име на продукт" type="text" formControlName="name" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                    <div *ngIf="submitted && f.name.errors" class="invalid-feedback" role="alert">
                        <div *ngIf="f.name.errors.required">Име на продукт е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Описание" formControlName="description" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.description.errors }" />
                    <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
                        <div *ngIf="f.description.errors.required">Описание е задължително.</div>
                        <div *ngIf="f.description.errors.minlength">Описание трябва да е повече от 6 символа.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Цена" formControlName="price" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.price.errors }" />
                    <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
                        <div *ngIf="f.price.errors.required">Цена е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input bsDatepicker [bsConfig]="{ dateInputFormat: 'DD.MM.YYYY' }" placement="right"
                        placeholder="Дата на пускане" formControlName="launchDate" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.launchDate.errors }" />
                    <div *ngIf="submitted && f.launchDate.errors" class="invalid-feedback">
                        <div *ngIf="f.launchDate.errors.required">Дата на пускане е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input bsDatepicker [bsConfig]="{ dateInputFormat: 'DD.MM.YYYY' }" placement="right"
                        placeholder="Дата OTS магазини." formControlName="tournamentStoreLaunchDate"
                        class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.tournamentStoreLaunchDate.errors }" />
                    <div *ngIf="submitted && f.tournamentStoreLaunchDate.errors" class="invalid-feedback">
                        <div *ngIf="f.tournamentStoreLaunchDate.errors.required">Дата OTS магазини е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input bsDatepicker [bsConfig]="{ dateInputFormat: 'DD.MM.YYYY' }" placement="right"
                        placeholder="Дата на легална игра за турнири" formControlName="konamiTournamentLegalDate"
                        class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.konamiTournamentLegalDate.errors }" />
                    <div *ngIf="submitted && f.konamiTournamentLegalDate.errors" class="invalid-feedback">
                        <div *ngIf="f.konamiTournamentLegalDate.errors.required">Дата на легална игра за турнири е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Брой карти в опаковка" formControlName="cardsPerPack" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.cardsPerPack.errors }" />
                    <div *ngIf="submitted && f.cardsPerPack.errors" class="invalid-feedback">
                        <div *ngIf="f.cardsPerPack.errors.required">Брой карти в опаковка е задължително.</div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Бройки в наличност" formControlName="quantity" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.quantity.errors }" />
                    <div *ngIf="submitted && f.quantity.errors" class="invalid-feedback">
                        <div *ngIf="f.quantity.errors.required">Бройки в наличност е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <input placeholder="Процентно намаление" formControlName="onSalePercent" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.onSalePercent.errors }" />
                    <div *ngIf="submitted && f.onSalePercent.errors" class="invalid-feedback">
                        <div *ngIf="f.onSalePercent.errors.required">Процентно намаление е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <select formControlName="Категория" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.category.errors }">
                        <option [selected]="category === product.category" *ngFor="let category of categores"
                            [value]="category.id">{{category.name}}</option>
                    </select>
                    <div *ngIf="submitted && f.category.errors" class="invalid-feedback">
                        <div *ngIf="f.category.errors.required">Категория е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <div class="d-inline">
                        <input style="width:auto" type="checkbox" formControlName="inStock"
                            class="form-control d-inline" [ngClass]="{ 'is-invalid': submitted && f.inStock.errors }" />
                        <label>
                            В наличност
                        </label>
                    </div>

                    <div *ngIf="submitted && f.inStock.errors" class="invalid-feedback">
                        <div *ngIf="f.inStock.errors.required">В наличност е задължително.</div>
                    </div>
                </div>
                <div [formGroup]="addProductForm" class="form-group">
                    <div class="d-inline">
                        <input style="width:auto"  type="checkbox" formControlName="isActive" class="form-control d-inline"
                            [ngClass]="{ 'is-invalid': submitted && f.isActive.errors }" /> <label>Активен</label>
                    </div>
                    <div *ngIf="submitted && f.isActive.errors" class="invalid-feedback">
                        <div *ngIf="f.isActive.errors.required">Активен е задължително.</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row col-centered">
            <div class="col-2 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <add-image class="position-relative" formControlName="photo1" (imageLoaded)="getImage($event, 1)"></add-image>
                </div>
            </div>
            <div class="col-2 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <add-image class="position-relative" formControlName="photo2" (imageLoaded)="getImage($event, 2)"></add-image>
                </div>
            </div>
            <div class="col-2 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <add-image class="position-relative" formControlName="photo3" (imageLoaded)="getImage($event, 3)"></add-image>
                </div>
            </div>
            <div class="col-2 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <add-image class="position-relative" formControlName="photo4" (imageLoaded)="getImage($event, 4)"></add-image>
                </div>
            </div>
            <div class="col-2 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <add-image class="position-relative" formControlName="photo5" (imageLoaded)="getImage($event, 5)"></add-image>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-centered">
                <div [formGroup]="addProductForm" class="form-group">
                    <button type="submit" class="btn btn-block btn-success float-right">{{buttonLabel}}</button>
                </div>
            </div>
        </div>
    </form>
</div>